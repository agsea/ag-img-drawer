/*
Last Updated: April 28, 2015 at 12:36:11 AM

@uthor ahmed saad <a7mad.sa3d.2014@gmail.com>
@version 2.1.0
@copyright ahmed saad
@license GNU GPL V3
*/
(function(b){var a={$switcher:b("<span>",{"class":"swraper"}).hide(),$toggler:b("<span>",{"class":"stoggler"}),$on:b("<span>",{"class":"slabel-on"}),$off:b("<span>",{"class":"slabel-off"}),$blob:b("<span>",{"class":"sblob"}),themes:["light","modern","dark","flat"],};var c={start:function(e,d){this.setTemplateStyle(d,e);e.$this.each(function(g,f){this.makeSwitcher(b(f),e,d)}.bind(this));this.behaviour(e)},makeSwitcher:function(k,j,g){var f=k.attr("name").replace(/(\[\])+$/,"");var e=k.attr("value");var h=k.attr("type");var d=(h=="checkbox")?j.checkboxs:j.radios;var i={components:{},$input:k};i.$switcher=a.$switcher.clone().attr({"input-name":f,"input-value":k.attr("value"),"input-type":h});if(j.cssValues.dir=="rtl"){i.$switcher.addClass("rtl")}i.components.$toggler=a.$toggler.clone();i.components.$on=a.$on.clone().html(k.attr("data-ontext")||g.onText);i.components.$off=a.$off.clone().html(k.attr("data-offtext")||g.offText);i.components.$blob=a.$blob.clone();if(g.reverse){i.components.$toggler.append(i.components.$off,i.components.$blob,i.components.$on).appendTo(i.$switcher)}else{i.components.$toggler.append(i.components.$on,i.components.$blob,i.components.$off).appendTo(i.$switcher)}k.before(i.$switcher);if(k[0].checked){this.turnOn(i,j,true)}else{this.turnOff(i,j,true)}if(k.prop("disabled")){i.$switcher.addClass("disabled").attr("title","switch is disabled!")}if(family=d.group[f]){family.group[e]=i;family.length++}else{d.group[f]=family={group:{},length:1};family.group[e]=i;d.groupLength++;if(h=="radio"){family.enabled=0;family.disabled=0;family.switchable=false}}if(h=="radio"){if(k[0].disabled){family.disabled++}else{family.enabled++}if(k[0].checked){family.checkedKey=e}family.switchable=(family.enabled>=2)?true:false}j.$switchers=j.$switchers.add(i.$switcher);d.length++;i.$switcher.show()},setTemplateStyle:function(e,h){a.$switcher.css({width:[e.width,"px"].join(""),"line-height":[e.height,"px"].join("")}).removeClass(a.themes.join(" ")).addClass(e.theme);h.cssValues.switcherWidth=e.width;h.cssValues.switcherHeight=e.height;h.cssValues.blobOffset=e.blobOffset;h.cssValues.blobWidth=h.cssValues.blobHeight=h.cssValues.switcherHeight-e.blobOffset*2;a.$blob.css({width:h.cssValues.blobWidth,height:h.cssValues.blobHeight});if(e.reverse){h.transformOff=["translateX(",h.transformDir,h.cssValues.blobWidth/2+h.cssValues.blobOffset,"px)"].join("");h.transformOn=["translateX(",h.transformDir,h.cssValues.switcherWidth-h.cssValues.blobWidth/2-h.cssValues.blobOffset,"px)"].join("")}else{h.transformOn=["translateX(",h.transformDir,h.cssValues.blobWidth/2+h.cssValues.blobOffset,"px)"].join("");h.transformOff=["translateX(",h.transformDir,h.cssValues.switcherWidth-h.cssValues.blobWidth/2-h.cssValues.blobOffset,"px)"].join("")}h.transformOn={"-webkit-transform":h.transformOn,"-moz-transform":h.transformOn,"-o-transform":h.transformOn,"-ms-transform":h.transformOn,transform:h.transformOn};h.transformOff={"-webkit-transform":h.transformOff,"-moz-transform":h.transformOff,"-o-transform":h.transformOff,"-ms-transform":h.transformOff,transform:h.transformOff};a.$toggler.css("font-size","");if(e.height<20||e.autoFontSize){a.$toggler.css({"font-size":[e.height/2,"px"].join("")})}a.$switcher.css("margin","");if(e.autoStick){var i=h.$this.first(),d=i.prev("label"),g;if(d){g=i.parent().width();g-=(e.inputs)?i.outerWidth(true):0;g-=d.outerWidth(true);var f=g-e.width;f-=(e.theme=="dark")?0:2;if(h.cssValues.dir=="rtl"){a.$switcher.css("margin-right",f)}else{a.$switcher.css("margin-left",f)}}}},toggle:function(g,f){var d,e;if(g.type=="checkbox"){d=f.checkboxs.group[g.name];e=d.group[g.value];if(!e.$input[0].disabled){if(e.$input[0].checked){this.turnOff(e,f)}else{this.turnOn(e,f)}}}else{d=f.radios.group[g.name];e=d.group[g.value];if(!e.$input[0].disabled&&d.switchable&&!e.$input[0].checked){this.turnOff(d.group[d.checkedKey],f);this.turnOn(e,f);d.checkedKey=g.value}}},turnOff:function(f,e,d){f.components.$toggler.css(e.transformOff).removeClass("on").addClass("off");if(d){return}f.$input.prop("checked",false);f.$input.trigger("turnoff.rcSwitcher",f);f.$input.trigger("change.rcSwitcher",f,"turnoff")},turnOn:function(f,e,d){f.components.$toggler.css(e.transformOn).addClass("on").removeClass("off");if(d){return}f.$input.prop("checked",true);f.$input.trigger("turnon.rcSwitcher",f);f.$input.trigger("change.rcSwitcher",f,"turnon")},behaviour:function(d){d.$this.on("click",function(f){f.preventDefault();f.stopPropagation()}.bind(this));d.$switchers.on("click",function(g){var f={};f.type=g.currentTarget.getAttribute("input-type");f.name=g.currentTarget.getAttribute("input-name");f.value=g.currentTarget.getAttribute("input-value");this.toggle(f,d);g.preventDefault();g.stopPropagation()}.bind(this))},};b.fn.rcSwitcher=function(d){var e={checkboxs:{group:{},groupLength:0,length:0,},radios:{group:{},groupLength:0,length:0,},$switchers:b([]),cssValues:{},};e.$this=this.filter("input[type=checkbox], input[type=radio]");e.cssValues.dir=window.getComputedStyle(e.$this[0],null).direction||"ltr";e.transformDir=(e.cssValues.dir=="rtl")?"":"-";d=b.extend({onText:"ON",offText:"OFF",reverse:false,inputs:false,width:56,height:20,blobOffset:1,autoFontSize:false,theme:"light",autoStick:false,},d||{});if(!d.inputs){e.$this.css("display","none")}if(a.themes.indexOf(d.theme)==-1){d.theme="light"}c.start(e,d);return this}})(jQuery);